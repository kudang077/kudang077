using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement;    //场景管理命名空间

public class NewBehaviourScript : MonoBehaviour
{
    public string nameobj;                        //要转移到的空间，要先在生成设置里启用
    public GameObject objettomove;                //转移的物体


    private void Update()
    {
        if (Input.GetKeyDown(KeyCode.Space))
        {
            StartCoroutine(Loadscene());          //开始协程
        }
    }
    IEnumerator Loadscene()              //枚举器
    { 
        Scene curscene = SceneManager.GetActiveScene();                                                //储存当前场景
        AsyncOperation asyload = SceneManager.LoadSceneAsync(nameobj, LoadSceneMode.Additive);         //异步加载场景
        while (!asyload.isDone)
        {
            yield return null;                  //等，就硬等到加载完成
        }
        SceneManager.MoveGameObjectToScene(objettomove, SceneManager.GetSceneByName(nameobj));              //将指定物体移动到场景中
        SceneManager.UnloadSceneAsync(curscene);                      //销毁之前的场景
    }
 
}


